import{b as s,t as d,d as l,g as h}from"./render-function-DXCqIzc6.js";const n="https://dummyjson.com",C=async()=>{const t=await fetch(`${n}/products/categories`);if(!t.ok)throw new Error(`Error ${t.status}: Failed to fetch categories`);return t.json()},b=async(t=1,o="")=>{const a=(t-1)*12;let u=o?`${n}/products/category/${encodeURIComponent(o)}?limit=12&skip=${a}`:`${n}/products?limit=12&skip=${a}`;const c=await fetch(u);if(!c.ok)throw new Error(`Error ${c.status}: Failed to fetch products`);return c.json()},g=async t=>{const o=await fetch(`${n}/products/${t}`);if(!o.ok)throw new Error(`Error ${o.status}: Product not found`);return o.json()};let e=null;const k=t=>{e=t,s.modalContent.innerHTML=`
    <h2>${t.title}</h2>
    <img src="${t.thumbnail}" alt="${t.title}">
    <p>${t.description}</p>
    <button class="modal-product__btn--wishlist" id="wishlist-btn">${r("wishlist",t.id)?"Remove from Wishlist":"Add to Wishlist"}</button>
    <button class="modal-product__btn--cart" id="cart-btn">${r("cart",t.id)?"Remove from Cart":"Add to Cart"}</button>
  `,document.querySelector(".modal-product__btn--wishlist").addEventListener("click",f),document.querySelector(".modal-product__btn--cart").addEventListener("click",w),s.modal.classList.add("modal--is-open"),document.addEventListener("keydown",m)},f=t=>{d("wishlist",e);const o=t.currentTarget;o.textContent=r("wishlist",e.id)?"Remove from Wishlist":"Add to Wishlist",s.wishlistCounter.textContent=l("wishlist")},w=t=>{d("cart",e);const o=t.currentTarget;o.textContent=r("cart",e.id)?"Remove from Cart":"Add to Cart",s.cartCounter.textContent=l("cart")},$=()=>{s.modal.classList.remove("modal--is-open"),document.removeEventListener("keydown",m)},m=t=>{t.key==="Escape"&&$()};function r(t,o){return h(t).some(i=>i.id===o)}export{C as a,b,g as f,k as o};
//# sourceMappingURL=modal-M3sC67ye.js.map
